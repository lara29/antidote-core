syntax = "proto3";
package syringe.api.exp;

import "google/api/annotations.proto";
import "google/protobuf/empty.proto";

service LessonDefService {

  // Retrieve all LessonDefs with filter
  rpc ListLessonDefs(google.protobuf.Empty) returns (LessonCategoryMap) {
    option (google.api.http) = {
      get: "/exp/lessondef/all"
    };
  }

  rpc GetLessonDef(LessonID) returns (LessonDef) {
    option (google.api.http) = {
      get: "/exp/lessondef/{id}"
    };
  }

}

message LessonCategoryMap {
  map<string, LessonDefs> lessonCategories = 1;
}

message LessonDefs {
  repeated LessonDef lessonDefs = 1;
}

message LessonID {
  int32 id = 1;
}

message LessonDef {
  int32 LessonId = 1;
  repeated LessonStage Stages = 2;
  string LessonName = 3;
}

message LessonStage {
  int32 StageId = 1;
  string Description = 2;
}

message LessonDefFilter {
  string Category = 1;
}
